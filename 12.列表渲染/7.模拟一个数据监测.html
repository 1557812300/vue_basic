
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>基本列表</title>
		<!-- <script type="text/javascript" src="../js/vue.js"></script> -->
	</head>
	<body>
		
		<script type="text/javascript">
			let data={
                name:'山硅谷',
                address:'北京'
            }
            //创建一个监视的实例对象，用于监视Data中的属性的变化
            const obs= new Observer(data)
            console.log(obs)
            //准备一个vm实例对象
            let vm={}
            vm._data=obs=data
            
            function Observer(obj){//创建一个监视的实例对象
                //1.汇总对象中所有的属性形成一个数组
                const keys=Object.keys(obj)
                // keys为数组
                //遍历
                keys.forEach((k)=>{
                    Object.defineProperty(this,k,{
                        // this=Observer，读取k的值
                        get(){
                            return obj[k]
                        },
                        set(val){
                            console.log('${k}被改了，我要去解析模板，生成虚拟DOM.....我要开始忙了')
                            obj[k]=val
                        }
                    })
                })
            }
		</script>
</html>